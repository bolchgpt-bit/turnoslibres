{% extends "base.html" %}

{% block title %}Publicar Turnos - TurnosLibres.com{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="mb-8 text-center">
        <h1 class="text-3xl font-bold text-gray-900 mb-4">Publica tus turnos</h1>
        <p class="text-gray-600">Completa el formulario y nos pondremos en contacto contigo para configurar tu cuenta.</p>
    </div>
    
    <div class="bg-white rounded-lg shadow-md p-6">
        <form hx-post="{{ url_for('api.lead') }}" hx-target="#form-result" hx-swap="innerHTML">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="form-label">Nombre del Negocio *</label>
                    <input type="text" name="business_name" required class="form-input" maxlength="200">
                </div>
                
                <div>
                    <label class="form-label">Categoría *</label>
                    <select name="category" required class="form-input">
                        <option value="">Selecciona una categoría</option>
                        {% for category in categories %}
                            <option value="{{ category.slug }}">{{ category.title }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="form-label">Ciudad *</label>
                    <input type="text" name="city" required class="form-input" maxlength="100">
                </div>
                
                <div>
                    <label class="form-label">Email de Contacto *</label>
                    <input type="email" name="contact_email" required class="form-input" maxlength="120">
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="form-label">WhatsApp</label>
                    <input type="tel" name="whatsapp" class="form-input" maxlength="50">
                </div>
                
                <div>
                    <label class="form-label">Sitio Web / Instagram</label>
                    <input type="url" name="website" class="form-input" maxlength="200">
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="form-label">Cantidad de Servicios/Canchas *</label>
                    <input type="number" name="services_count" required min="1" max="100" class="form-input">
                </div>
                
                <div>
                    <label class="form-label">Horarios de Atención</label>
                    <input type="text" name="schedule" placeholder="Ej: Lun-Vie 9-18, Sab 9-14" class="form-input" maxlength="100">
                </div>
            </div>
            
            <div class="mb-6">
                <label class="form-label">Comentarios Adicionales</label>
                <textarea name="comments" rows="3" class="form-input" maxlength="500" 
                         placeholder="Cuéntanos más sobre tu negocio..."></textarea>
            </div>
            
            <!-- Honeypot field (hidden) -->
            <input type="text" name="website_url" style="display: none;" tabindex="-1" autocomplete="off">
            
            <div class="mb-4">
                <button type="submit" class="btn-primary w-full">
                    Enviar Solicitud
                </button>
            </div>
        </form>
        
        <div id="form-result"></div>
    </div>
</div>
{% endblock %}
